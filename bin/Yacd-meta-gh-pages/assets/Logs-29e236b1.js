import{r as f,R as _,i as d,j as a,b as i,d as j,O as P,P as R,x as w,Q as L,u as W,C as k,S as N,T as C,U as O,g as I,V as z,h as E}from"./index-31517dd5.js";import{r as $,s as M,f as A}from"./logs-fa67a8c4.js";import{d as B}from"./debounce-c1ba2006.js";import{u as F}from"./useRemainingViewPortHeight-c3eca739.js";import{F as H,p as D}from"./Fab-e8f02dcd.js";import{P as V,a as Q}from"./play-24e641ab.js";function y(){return y=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},y.apply(this,arguments)}function U(e,r){if(e==null)return{};var t=Y(e,r),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function Y(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,s;for(s=0;s<n.length;s++)o=n[s],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var v=f.forwardRef(function(e,r){var t=e.color,n=t===void 0?"currentColor":t,o=e.size,s=o===void 0?24:o,p=U(e,["color","size"]);return _.createElement("svg",y({ref:r,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},p),_.createElement("circle",{cx:"11",cy:"11",r:"8"}),_.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});v.propTypes={color:d.string,size:d.oneOfType([d.string,d.number])};v.displayName="Search";const q=v,G="_RuleSearch_jkjcs_1",J="_RuleSearchContainer_jkjcs_10",K="_inputWrapper_jkjcs_20",X="_input_jkjcs_20",Z="_iconWrapper_jkjcs_45",g={RuleSearch:G,RuleSearchContainer:J,inputWrapper:K,input:X,iconWrapper:Z};function ee({dispatch:e,searchText:r,updateSearchText:t}){const[n,o]=f.useState(r),s=f.useCallback(l=>{e(t(l))},[e,t]),p=f.useMemo(()=>B(s,300),[s]),u=l=>{o(l.target.value),p(l.target.value)};return a("div",{className:g.RuleSearch,children:i("div",{className:g.RuleSearchContainer,children:[a("div",{className:g.inputWrapper,children:a("input",{type:"text",value:n,onChange:u,className:g.input})}),a("div",{className:g.iconWrapper,children:a(q,{size:20})})]})})}const te=e=>({searchText:P(e),updateSearchText:R}),oe=j(te)(ee),re="_logMeta_pycfb_1",ne="_logType_pycfb_8",ae="_logTime_pycfb_17",se="_logText_pycfb_22",ce="_logsWrapper_pycfb_37",le="_logPlaceholder_pycfb_54",ie="_logPlaceholderIcon_pycfb_67",c={logMeta:re,logType:ne,logTime:ae,logText:se,logsWrapper:ce,logPlaceholder:le,logPlaceholderIcon:ie},{useCallback:x,useEffect:pe}=E,T=30,ge={debug:"#389d3d",info:"#58c3f2",warning:"#cc5abb",error:"#c11c1c"},ue={debug:"debug",info:"info",warning:"warn",error:"error"};function he({time:e,payload:r,type:t}){return i("div",{className:c.logMeta,children:[a("span",{className:c.logTime,children:e}),i("span",{className:c.logType,style:{color:ge[t]},children:["[ ",ue[t]," ]"]}),a("span",{className:c.logText,children:r})]})}function de({dispatch:e,logLevel:r,apiConfig:t,logs:n,logStreamingPaused:o}){const s=w(),p=x(()=>{o?$({...t,logLevel:r}):M(),s.app.updateAppConfig("logStreamingPaused",!o)},[t,r,o,s.app]),u=x(m=>e(L(m)),[e]);pe(()=>{A({...t,logLevel:r},u)},[t,r,u]);const[l,b]=F(),{t:h}=W();return i("div",{children:[a(k,{title:h("Logs")}),a(oe,{}),a("div",{ref:l,children:n.length===0?i("div",{className:c.logPlaceholder,style:{height:b-T*2},children:[a("div",{className:c.logPlaceholderIcon,children:a(N,{width:200,height:200})}),a("div",{children:h("no_logs")})]}):i("div",{className:c.logsWrapper,style:{height:b-T*2},children:[n.map((m,S)=>a("div",{className:"",children:a(he,{...m})},S)),a(H,{icon:o?a(V,{size:16}):a(Q,{size:16}),mainButtonStyles:o?{background:"#e74c3c"}:{},style:D,text:h(o?"Resume Refresh":"Pause Refresh"),onClick:p})]})})]})}const fe=e=>({logs:C(e),logLevel:O(e),apiConfig:I(e),logStreamingPaused:z(e)}),Te=j(fe)(de);export{Te as default};
